<!--
  Generated template for the DetailNoticePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="ihHeader">
    <ion-title>상세화면</ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="presentPopover($event)">
              <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content >
	<ion-card>
    
    <ion-card-content *ngFor="let item of items">
      <ion-card-title>
        {{item.board_title}}
      </ion-card-title>
      	<p>{{item.board_content}}</p>
        <div *ngFor="let photo of photos" >
        <img [src]="photo" *ngIf="photo" (click)="downloadImg(photo)"/>
        </div>
      	<ion-row>
	    	<ion-col class="col" style="padding: 0px;">
	    		<p>작성자 : {{item.user_name}}</p>
	    	</ion-col>
	    	<ion-col class="col" style="padding: 0px;text-align: right;">
	    		<p>{{item.regi_date}}</p>
	    	</ion-col>
	    </ion-row>
        <ion-row style="padding-left:8px;" *ngIf="fileName">
            <ion-col col-1>
                <i class="fa fa-paperclip"></i>
            </ion-col>
            <ion-col col-11 (click)="downloadFile()">
                {{fileName}}
            </ion-col>
        </ion-row>
    </ion-card-content>

    <ion-card-content style="border-top:1px solid #e3e3e3;">
        <ion-card-title>Comment</ion-card-title>
    
    <ion-grid>
        <ion-row *ngFor="let reply of replys; let i = index">  
            <ion-col col-3>
                    {{reply.user_name}}
            </ion-col>
            <ion-col col-8>
                <div>
                    {{reply.reply_content}}
                </div>
                <div style="color:#e3e3e3;font-size:1rem;">
                    {{reply.regi_date}}
                </div>
            </ion-col>
            <ion-col col-1 (click)="deleteComment(reply.reply_id)" *ngIf="reply.replyAuth">
                <i class="fa fa-times"></i>
            </ion-col>
        </ion-row>
    </ion-grid>
    
    <form (ngSubmit)="leaveComment()">
    <ion-grid>
        <ion-row>
            <ion-textarea placeholder="댓글 남기기" [(ngModel)]="comment.replyContent" name="replyContent" ></ion-textarea>
        </ion-row>
        <ion-row>
            <button ion-button full type="submit">등록</button>
        </ion-row>
    </ion-grid>
    </form>
    
     
    <!-- <ion-badge item-end>260k</ion-badge> -->
    </ion-card-content>
    </ion-card>
</ion-content>
